{"version":3,"sources":["store/authTypes.ts","actions/authActions/authActions.ts","components/utils/Loader/Loader.style.ts","components/utils/Loader/Loader.tsx","components/styles.ts","components/controls/Button/Button.tsx","components/Header/Header.style.ts","reselects/reselect.ts","components/Header/Header.tsx","auth/PublicRoute.tsx","components/controls/Input/Input.tsx","components/pages/Login/Login.style.ts","components/Message/Message.style.ts","components/Message/Message.tsx","components/pages/Login/Login.tsx","components/pages/SignUp/SignUp.tsx","components/pages/SignIn/SignIn.tsx","components/pages/ForgotPassword/ForgotPassword.tsx","components/Canvas/CanvasItems/CanvasItems.style.ts","components/ImageNameModal/ImageNameModal.module.ts","thunks/getImages/getImgUrl.ts","thunks/saveImages/saveImgToImages.ts","thunks/saveImages/saveImgToCollections.ts","thunks/getImages/getAllImages.ts","thunks/getImages/getCurrentImages.ts","store/reducers/imagesReducer.ts","actions/imagesActions/imagesActions.ts","components/ImageNameModal/ImageNameModal.tsx","store/reducers/drawReducer.ts","components/Canvas/CanvasItems/CanvasItems.tsx","assets/brush.png","assets/eraser.png","components/Canvas/Canvas.style.ts","components/Canvas/CanvasItems/drawFunctions/brush/brush.ts","components/Canvas/CanvasItems/drawFunctions/drawing.ts","components/Canvas/CanvasItems/drawFunctions/circle/circle.ts","components/Canvas/CanvasItems/drawFunctions/line/line.ts","components/Canvas/CanvasItems/drawFunctions/rectangle/rectangle.ts","components/Canvas/Canvas.tsx","components/DashBoard/DashBoard.style.ts","components/DashBoard/DashBoard.tsx","auth/PrivateRoute.tsx","styles/Global.ts","styles/thme.ts","components/Homepage/Homepage.style.ts","components/Homepage/Homepage.tsx","components/ImgCollections/ImgCollections.style.ts","components/ImgCollections/ImgItem/ImgItem.style.ts","components/ImgCollections/ImgItem/ImgItem.tsx","components/ImgCollections/ImgCollections.tsx","App.tsx","store/reducers/authReducer.ts","store/index.ts","firebase/firebase.ts","index.tsx"],"names":["SET_USER","SET_ERROR","getUserById","id","dispatch","a","firebase","firestore","collection","doc","get","user","exists","userData","data","type","payload","setLoading","value","setError","msg","setSuccess","sendPasswordResetEmail","email","successMsg","auth","message","LoaderContainer","styled","div","Loader","FormButton","text","onClick","disabled","className","props","width","marginRight","FlexCenter","justify","css","HeaderContainer","ButtonContainer","selectInstrument","state","draw","instrument","getUserName","firstName","getImages","images","getLoading","loading","getAuthenticated","authenticated","getSuccess","success","getError","error","Header","history","useHistory","useDispatch","useSelector","activeStyle","color","to","signOut","push","PublicRoute","Component","component","rest","render","Input","onChange","placeholder","name","label","htmlFor","required","autoComplete","FormContainer","theme","borders","modal","modalRadius","backgroundColor","textColors","main","textSize","title","FormSection","section","FormWrapper","form","inputRadius","input","MessageBlock","article","Message","React","memo","replace","split","join","Login","submitHandler","useState","setFirstName","setEmail","password","setPassword","useEffect","e","preventDefault","onError","createUserWithEmailAndPassword","res","uid","createAt","FieldValue","serverTimestamp","set","signInWithEmailAndPassword","signin","onSubmit","currentTarget","SignUp","SignIn","ForgotPassword","ItemsContainer","button","dark","ChoseColor","ChoseLineWidth","ShowWidth","span","LineWidthWrapper","Items","height","radius","Rectangle","Circle","Line","Brush","Eraser","ModalBackground","Modal","CloseModal","ModalContainer","getImgUrl","userName","imageName","imgUrl","storage","getStorage","getDownloadURL","ref","then","url","catch","console","log","saveImgToImages","imgURL","db","getDatabase","imagesRef","newImageRef","currentUserRef","toLowerCase","newUserImageRef","saveImgToCollections","storageRef","uploadString","getAllImages","dates","database","once","spanshot","forEach","ChildSnapshot","val","unshift","getCurrentImages","Object","values","map","el","initialState","getCurrentImagesTC","setCurrentImagesAC","ImageNameModal","closeModal","canvasRef","setText","saveImg","useCallback","current","Error","toDataURL","saveImageAC","saveImageTC","onKeyDown","key","length","CanvasItems","setLineWidth","contextRef","setStrokeStyle","lineWidth","strokeStyle","showTextModal","setTextModal","setTool","setInstrument","clearRect","min","max","defaultValue","src","alt","CanvasContainer","paint","brush","context","isDrawing","nativeEvent","offsetX","offsetY","lineTo","stroke","drawing","selectedInstrument","canvas","startX","startY","saved","img","Image","onload","r","Math","sqrt","drawImage","beginPath","arc","PI","fill","circle","moveTo","line","rect","rectangle","Canvas","useRef","setIsDrawing","style","getContext","scale","lineCap","fillStyle","onMouseUp","closePath","onMouseMove","onMouseDown","DashBoardContainer","DashBoard","PrivateRoute","GlobalStyles","createGlobalStyle","Link","decoration","transition","hoverColor","redirect","HomepageWrapper","Homepage","CollectionsContainer","CollectionsWrapper","SearchWrapper","ItemContainer","ItemWrapper","ImgWrapper","TitleWrapper","ImgItem","ImgCollections","inputText","setInputText","searchButtonHandler","App","unsubscribe","onAuthStateChanged","path","exact","rootReducer","combineReducers","action","filter","store","createStore","composeWithDevTools","applyMiddleware","thunk","initializeApp","apiKey","process","authDomain","projectId","databaseURL","storageBucket","messagingSenderId","appId","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.43ec9721.chunk.js","sourcesContent":["export const SET_USER = 'SET_USER';\r\nexport const SIGN_OUT = 'SIGN_OUT';\r\nexport const SET_LOADING = 'SET_LOADING';\r\nexport const SET_ERROR = 'SET_ERROR';\r\nexport const SET_SUCCESS = 'SET_SUCCESS';\r\n\r\n\r\nexport interface User {\r\n    firstName: string\r\n    email: string\r\n    id: string\r\n    createAt: any\r\n}\r\n\r\nexport interface AuthState {\r\n    user: User | null\r\n    authenticated: boolean\r\n    loading: boolean\r\n    error: string\r\n    success: string\r\n}\r\n\r\nexport interface SignUpData {\r\n    firstName: string\r\n    email: string\r\n    password: string\r\n}\r\n\r\nexport interface SignInData {\r\n    email: string\r\n    password: string\r\n}\r\n\r\n// ACTIONS\r\n\r\ninterface SetUserAction {\r\n    type: typeof SET_USER\r\n    payload: User\r\n}\r\n\r\ninterface SetLoadingAction {\r\n    type: typeof SET_LOADING\r\n    payload: boolean\r\n}\r\n\r\ninterface SignOutAction {\r\n    type: typeof SIGN_OUT\r\n}\r\n\r\ninterface SetErrorAction {\r\n    type: typeof SET_ERROR\r\n    payload: string\r\n}\r\n\r\ninterface SetSuccessAction {\r\n    type: typeof SET_SUCCESS\r\n    payload: string\r\n}\r\n\r\nexport type AuthAction =\r\n    SetUserAction\r\n    | SetLoadingAction\r\n    | SignOutAction\r\n    | SetErrorAction\r\n    | SetSuccessAction\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import {\r\n    AuthAction,\r\n    SET_ERROR,\r\n    SET_LOADING,\r\n    SET_SUCCESS,\r\n    SET_USER,\r\n    SIGN_OUT,\r\n    SignInData,\r\n    SignUpData,\r\n    User\r\n} from \"../../store/authTypes\";\r\nimport {ThunkAction} from 'redux-thunk'\r\nimport {RootState} from \"../../store\";\r\nimport firebase from \"firebase/compat\";\r\n\r\nexport const signup = (data: SignUpData, onError: () => void): ThunkAction<void, RootState, null, AuthAction> => {\r\n    return async dispatch => {\r\n        try {\r\n            const res = await firebase.auth().createUserWithEmailAndPassword(data.email, data.password)\r\n            if (res.user) {\r\n                const userData: User = {\r\n                    email: data.email,\r\n                    firstName: data.firstName,\r\n                    id: res.user.uid,\r\n                    createAt: firebase.firestore.FieldValue.serverTimestamp()\r\n                }\r\n                await firebase.firestore().collection('/users').doc(res.user.uid).set(userData)\r\n                dispatch({\r\n                    type: SET_USER,\r\n                    payload: userData\r\n                })\r\n            }\r\n        } catch (err: any) {\r\n            onError()\r\n            dispatch({\r\n                type: SET_ERROR,\r\n                payload: err.message\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const getUserById = (id: string): ThunkAction<void, RootState, null, AuthAction> => {\r\n    return async dispatch => {\r\n        try {\r\n            const user = await firebase.firestore().collection('users').doc(id).get()\r\n            if (user.exists) {\r\n                const userData = user.data() as User\r\n                dispatch({\r\n                    type: SET_USER,\r\n                    payload: userData\r\n                })\r\n            }\r\n        } catch (err) {\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const setLoading = (value: boolean): ThunkAction<void, RootState, null, AuthAction> => {\r\n    return async dispatch => {\r\n        dispatch({\r\n            type: SET_LOADING,\r\n            payload: value\r\n        })\r\n    }\r\n}\r\n\r\nexport const signin = (data: SignInData, onError: () => void): ThunkAction<void, RootState, null, AuthAction> => {\r\n    return async dispatch => {\r\n        try {\r\n            await firebase.auth().signInWithEmailAndPassword(data.email, data.password)\r\n        } catch (err: any) {\r\n            onError()\r\n            dispatch(setError(err.message))\r\n        }\r\n    }\r\n}\r\n\r\nexport const signout = (): ThunkAction<void, RootState, null, AuthAction> => {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch(setLoading(true))\r\n            await firebase.auth().signOut()\r\n            dispatch({\r\n                type: SIGN_OUT\r\n            })\r\n        } catch (err) {\r\n            dispatch(setLoading(false))\r\n        }\r\n    }\r\n}\r\n\r\nexport const setError = (msg: string): ThunkAction<void, RootState, null, AuthAction> => {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: SET_ERROR,\r\n            payload: msg\r\n        })\r\n    }\r\n}\r\n\r\nexport const setSuccess = (msg: string): ThunkAction<void, RootState, null, AuthAction> => {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: SET_SUCCESS,\r\n            payload: msg\r\n        })\r\n    }\r\n}\r\n\r\nexport const sendPasswordResetEmail = (email: string, successMsg: string): ThunkAction<void, RootState, null, AuthAction> => {\r\n    return async dispatch => {\r\n        try {\r\n            await firebase.auth().sendPasswordResetEmail(email)\r\n            dispatch(setSuccess(successMsg))\r\n        } catch (err: any) {\r\n            dispatch(setError(err.message))\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import styled from \"styled-components\";\r\n\r\nexport const LoaderContainer = styled.div`\r\n  .preloader {\r\n    height: 50px;\r\n    width: 50px;\r\n    border-radius: 50%;\r\n    border: 5px solid #81b5de;\r\n    border-top-color: #0962ad;\r\n\r\n    animation-name: spin;\r\n    animation-duration: .5s;\r\n    animation-iteration-count: infinite;\r\n    animation-timing-function: linear;\r\n  }\r\n\r\n  @keyframes spin {\r\n    from {\r\n      transform: rotate(0deg);\r\n    }\r\n    to {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`","import {FC} from \"react\";\r\nimport {LoaderContainer} from \"./Loader.style\";\r\n\r\n\r\nexport const Loader: FC = () => {\r\n    return (\r\n        <LoaderContainer/>\r\n    )\r\n\r\n}","import styled, {css} from \"styled-components\";\r\nimport {Button} from \"./controls/Button/Button\";\r\n\r\nexport const FormButton = styled(Button)<{ width?: string, marginRight?: string }>`\r\n  width: ${props => props.width ? props.width : '140px'};\r\n  margin-right: ${props => props.marginRight ?? '0'};\r\n  padding: 2px;\r\n  height: 37px;\r\n  border-radius: 15px;\r\n  background-color: #d2c1b5;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: all 0.5s;\r\n\r\n  &:hover {\r\n    background-color: #928880;\r\n  }\r\n  \r\n  &:disabled{\r\n    color: transparent;\r\n    background-color: transparent;\r\n    cursor: default;\r\n  }\r\n`\r\n\r\ntype FlexCenterType = {\r\n    justify?: string\r\n}\r\n\r\nexport const FlexCenter = ({justify}: FlexCenterType) => css`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: ${justify ?? 'center'};\r\n`\r\n","import {ButtonHTMLAttributes, FC} from \"react\";\r\n\r\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement>{\r\n    text: string\r\n    className?: string\r\n}\r\n\r\nexport const Button: FC<ButtonProps> = ({type,text, onClick, disabled, className}) => {\r\n    return (\r\n        <button type={type} className={`${className}`} onClick={onClick} disabled={disabled}>{text}</button>\r\n    )\r\n}","import styled from \"styled-components\";\r\n\r\n\r\nexport const HeaderContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n  margin-top: 30px;\r\n\r\n  & div a {\r\n    margin-right: 20px;\r\n  }\r\n\r\n  min-width: 1300px;\r\n`\r\nexport const ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n`","import {RootState} from \"../store\";\r\n\r\nexport const selectInstrument = (state: RootState) => state.draw.instrument\r\nexport const getUserName = (state: RootState) => state.auth.user?.firstName\r\nexport const getImages = (state: RootState) => state.images\r\nexport const getLoading = (state: RootState) => state.auth.loading\r\nexport const getAuthenticated = (state: RootState) => state.auth.authenticated\r\nexport const getSuccess = (state: RootState) => state.auth.success\r\nexport const getError = (state: RootState) => state.auth.error\r\n","import {FC} from \"react\";\r\nimport {NavLink, useHistory} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {signout} from \"../../actions/authActions/authActions\";\r\nimport {FormButton} from \"../styles\";\r\nimport {ButtonContainer, HeaderContainer} from \"./Header.style\";\r\nimport {getAuthenticated} from \"../../reselects/reselect\";\r\n\r\nexport const Header: FC = () => {\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n    const authenticated = useSelector(getAuthenticated)\r\n\r\n    const logoutClickHandler = () => {\r\n        dispatch(signout())\r\n    }\r\n    return (\r\n        <HeaderContainer>\r\n            <div>\r\n                {authenticated\r\n                    ? <>\r\n                        <NavLink activeStyle={{color: '#ac9c8e'}} to={!authenticated ? '/' : '/images'}>Images</NavLink>\r\n                        <NavLink activeStyle={{color: '#ac9c8e'}}\r\n                                 to={!authenticated ? '/' : '/dashboard'}>Paint</NavLink>\r\n                    </>\r\n                    : null}\r\n            </div>\r\n            <div>\r\n                {!authenticated ?\r\n                    <ButtonContainer>\r\n                        <FormButton marginRight={'25px'} text={'Sign up'} onClick={() => history.push('/signup')}/>\r\n                        <FormButton text={'Sign in'} onClick={() => history.push('/signin')}/>\r\n                    </ButtonContainer>\r\n                    :\r\n                    <FormButton text={'Sign out'} onClick={logoutClickHandler}/>\r\n                }\r\n            </div>\r\n        </HeaderContainer>\r\n    )\r\n}","import {Redirect, Route, RouteProps} from \"react-router-dom\";\r\nimport {FC} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getAuthenticated} from \"../reselects/reselect\";\r\n\r\n\r\ninterface Props extends RouteProps {\r\n    component: any\r\n}\r\n\r\nexport const PublicRoute: FC<Props> = ({component: Component, ...rest}) => {\r\n    const authenticated = useSelector(getAuthenticated)\r\n\r\n    return (\r\n        <Route{...rest} render={props => !authenticated ? <Component {...props} /> : <Redirect to={'/dashboard'}/>}/>\r\n    )\r\n}","import {FC, InputHTMLAttributes} from \"react\";\r\n\r\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\r\n    label: string\r\n\r\n}\r\n\r\nexport const Input: FC<InputProps> = ({\r\n                                          type = 'text',\r\n                                          onChange,\r\n                                          placeholder,\r\n                                          value,\r\n                                          name, label\r\n                                      }) => {\r\n    return (\r\n        <div>\r\n            <div>\r\n                <label htmlFor={name}>\r\n\r\n                </label>\r\n                <input type={type}\r\n                       placeholder={placeholder}\r\n                       value={value}\r\n                       name={name}\r\n                       onChange={onChange}\r\n                       required\r\n                       autoComplete={'off'}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}","import styled from \"styled-components\";\r\nimport {FlexCenter} from \"../../styles\";\r\n\r\nexport const FormContainer = styled.div`\r\n  ${FlexCenter({justify: 'space-evenly'})}\r\n  border: ${props => props.theme.borders.modal};\r\n  border-radius: ${props => props.theme.borders.modalRadius};\r\n  background-color: ${props => props.theme.backgroundColor.modal};\r\n  width: 680px;\r\n  color: ${props => props.theme.textColors.main};\r\n  margin-top: 30px;\r\n  min-height: 450px;\r\n\r\n  & h1 {\r\n    font-size: ${props => props.theme.textSize.title};\r\n    padding-right: 32px;\r\n  }\r\n`\r\n\r\nexport const FormSection = styled.section`\r\n  width: 100vw;\r\n  min-width: 1300px;\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\n\r\nexport const FormWrapper = styled.form`\r\n  min-height: 300px;\r\n\r\n  ${FlexCenter({justify: 'space-between'})}\r\n  & input {\r\n    box-sizing: border-box;\r\n    padding: 4px 10px 4px 10px;\r\n    border: none;\r\n    color: ${props => props.theme.textColors.main};\r\n    border-radius: ${props => props.theme.borders.inputRadius};\r\n    width: 320px;\r\n    height: 37px;\r\n    background-color: ${props => props.theme.backgroundColor.input};\r\n\r\n    &::placeholder {\r\n      color: ${props => props.theme.textColors.placeholder};\r\n    }\r\n  }\r\n`","import styled from \"styled-components\";\r\n\r\nexport type MsgProps = {\r\n    type: string\r\n}\r\n\r\nexport const MessageBlock = styled.article<MsgProps>`\r\n  color: ${({type}) => type === 'danger' ? 'red' : 'green'};\r\n  font-weight: bold;\r\n  position: relative;\r\n  min-height: 35px;\r\n  width: 100%;\r\n\r\n  & div {\r\n    position: absolute;\r\n  }\r\n`","import React, {FC} from \"react\";\r\nimport {MessageBlock} from \"./Message.style\";\r\n\r\n\r\ninterface MessageProps {\r\n    msg: string\r\n    type: 'danger' | 'success'\r\n}\r\n\r\nexport const Message: FC<MessageProps> = React.memo(({msg, type}) => {\r\n    msg = msg.replace(/firebase: /ig, '').split('.', 1).join('')\r\n    return (\r\n        <MessageBlock type={type}>\r\n            <div>{msg}</div>\r\n        </MessageBlock>\r\n    )\r\n})","import {FC, FormEvent, useEffect, useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {sendPasswordResetEmail, setError, setSuccess, signin, signup} from \"../../../actions/authActions/authActions\";\r\nimport {Input} from \"../../controls/Input/Input\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {FormContainer, FormSection, FormWrapper} from \"./Login.style\";\r\nimport {Message} from \"../../Message/Message\";\r\nimport {FormButton} from \"../../styles\";\r\nimport {getError, getSuccess} from \"../../../reselects/reselect\";\r\n\r\ntype LoginPropsType = {\r\n    type: 'Sign In' | 'Reset Password' | 'Sign Up'\r\n}\r\n\r\nexport const Login: FC<LoginPropsType> = ({type}) => {\r\n    const [firstName, setFirstName] = useState<string>('')\r\n    const [email, setEmail] = useState<string>('')\r\n    const [password, setPassword] = useState<string>('')\r\n    const [loading, setLoading] = useState<boolean>(false)\r\n\r\n    const dispatch = useDispatch()\r\n    const success = useSelector(getSuccess)\r\n    const error = useSelector(getError)\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            if (error) {\r\n                dispatch(setError(''))\r\n            }\r\n            if (success) {\r\n                dispatch(setSuccess(' '))\r\n            }\r\n        }\r\n    }, [error, dispatch, success])\r\n\r\n    let submitHandler;\r\n\r\n    if (type === 'Reset Password') {\r\n        submitHandler = async (e: FormEvent) => {\r\n            e.preventDefault()\r\n            setLoading(true)\r\n            type === 'Reset Password' && await dispatch(sendPasswordResetEmail(email, 'Email sent!'))\r\n            setLoading(false)\r\n        }\r\n    } else {\r\n        submitHandler = (e: FormEvent) => {\r\n            e.preventDefault()\r\n            setLoading(true)\r\n            type === 'Sign Up' && dispatch(signup({email, password, firstName}, () => setLoading(false)))\r\n            type === 'Sign In' && dispatch(signin({email, password}, () => setLoading(false)))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <FormSection>\r\n            <FormContainer>\r\n                <h1>\r\n                    {type}\r\n                </h1>\r\n                <FormWrapper onSubmit={submitHandler}>\r\n                    <Message msg={error ? error : success} type={`${error ? 'danger' : 'success'}`}/>\r\n                    {type === 'Sign Up' && <Input\r\n                        label={'First name'}\r\n                        placeholder={'first name'}\r\n                        name={'Firstname'}\r\n                        value={firstName}\r\n                        onChange={(e) => setFirstName(e.currentTarget.value)}\r\n                    />}\r\n                    <Input\r\n                        type={'email'}\r\n                        label={'email'}\r\n                        placeholder={'email'}\r\n                        name={'email'}\r\n                        value={email}\r\n                        onChange={(e) => {\r\n                            setEmail(e.currentTarget.value)\r\n                            dispatch(setError(''))\r\n                            dispatch(setSuccess(''))\r\n                        }}\r\n                    />\r\n                    {type !== 'Reset Password' && <Input\r\n                        type={'password'}\r\n                        label={'password'}\r\n                        placeholder={'password'}\r\n                        name={'password'}\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.currentTarget.value)}\r\n                    />}\r\n                    {type === 'Sign In' && <p>\r\n                        <Link to={'/forgot-password'}>\r\n                            Forgot password ?\r\n                        </Link>\r\n                    </p>}\r\n                    <FormButton width={'320px'} text={loading ? 'Loading...' : type} disabled={loading}/>\r\n                </FormWrapper>\r\n            </FormContainer>\r\n        </FormSection>\r\n    )\r\n}","import React, {FC} from \"react\";\r\nimport {Login} from \"../Login/Login\";\r\n\r\nexport const SignUp: FC =  React.memo(() => {\r\n    return (\r\n        <Login type={'Sign Up'}/>\r\n    )\r\n})","import React, {FC} from \"react\";\r\nimport {Login} from \"../Login/Login\";\r\n\r\nexport const SignIn: FC =  React.memo(() => {\r\n    return (\r\n      <Login type={'Sign In'}/>\r\n    )\r\n})","import React, {FC} from \"react\";\r\nimport {Login} from \"../Login/Login\";\r\n\r\nexport const ForgotPassword: FC =  React.memo(() => {\r\n\r\n    return (\r\n        <Login type={'Reset Password'}/>\r\n    )\r\n})","import styled, {css} from \"styled-components\";\r\n\r\nexport const ItemsContainer = styled.div`\r\n  width: 100%;\r\n  min-height: 50px;\r\n  background-color: ${props => props.theme.backgroundColor.button};\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n  color: ${props => props.theme.textColors.dark};\r\n  padding-bottom: 2px;\r\n\r\n   div {\r\n    cursor: pointer;\r\n  }\r\n\r\n`\r\n\r\nexport const ChoseColor = styled.input`\r\n  height: 30px;\r\n  width: 30px;\r\n  border: none;\r\n  padding: 2px;\r\n  cursor: pointer;\r\n`\r\n\r\nexport const ChoseLineWidth = styled.input`\r\n  height: 30px;\r\n  border: none;\r\n  cursor: pointer;\r\n`\r\n\r\nexport const ShowWidth = styled.span`\r\n  cursor: default;\r\n  margin-right: 15px;\r\n`\r\n\r\nexport const LineWidthWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`\r\n\r\ntype ItemsType = {\r\n    width?: string,\r\n    height?: string,\r\n    radius?: string\r\n}\r\n\r\nconst Items = ({width, height, radius}: ItemsType) => css`\r\n  border: none;\r\n  background: ${props => props.theme.backgroundColor.main};\r\n  box-shadow: 2px 2px 4px #4e4540;\r\n  width: ${width};\r\n  height: ${height};\r\n  border-radius: ${radius};\r\n  cursor: pointer;\r\n`\r\n\r\nexport const Rectangle = styled.button`\r\n  ${Items({width: '50px', height: '20px'})};\r\n`\r\n\r\nexport const Circle = styled.button`\r\n  ${Items({width: '30px', height: '30px', radius: '50%'})};\r\n`\r\n\r\nexport const Line = styled.button`\r\n  ${Items({width: '60px', height: '5px'})};\r\n`\r\n\r\nexport const Brush = styled.button`\r\n  ${Items({width: '30px', height: '30px'})};\r\n  img{\r\n    width: 30px;\r\n    height: 30px;\r\n  }\r\n`\r\nexport const Eraser = styled.button`\r\n  ${Items({width: '30px', height: '30px'})};\r\n  img{\r\n    width: 30px;\r\n    height: 30px;\r\n  }\r\n`\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import styled from \"styled-components\";\r\nimport {FlexCenter} from \"../styles\";\r\n\r\nexport const ModalBackground = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  background-color: #000000;\r\n  opacity: 0.7;\r\n  z-index: 1;\r\n  animation-name: backgroundAnime;\r\n  animation-duration: .8s;\r\n  @keyframes backgroundAnime {\r\n    0% {\r\n      opacity: 0;\r\n    }\r\n    100% {\r\n      opacity: 0.9;\r\n    }\r\n  }\r\n`\r\n\r\nexport const Modal = styled.div`\r\n  position: absolute;\r\n  bottom: 50%;\r\n  transform: translateY(50%);\r\n  border-radius: 5px;\r\n  padding: 25px;\r\n  background-color: ${props => props.theme.backgroundColor.button};\r\n  min-height: 200px;\r\n  min-width: 350px;\r\n  z-index: 2;\r\n  animation-name: modalAnime;\r\n  animation-duration: .6s;\r\n  @keyframes modalAnime {\r\n    0% {\r\n      opacity: 0;\r\n      bottom: 0;\r\n      transform: translateY(0);\r\n    }\r\n    100% {\r\n      opacity: 1;\r\n      bottom: 50%;\r\n      transform: translateY(50%);\r\n    }\r\n  }\r\n\r\n  & h2 {\r\n    color: black;\r\n    font-size: ${props => props.theme.textSize.title};\r\n  }\r\n`\r\n\r\nexport const CloseModal = styled.div`\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  margin: 10px;\r\n  display: flex;\r\n  z-index: 5;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 15px;\r\n  font-weight: bold;\r\n  transition: .3s;\r\n  color: #000000;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    background-color: black;\r\n    opacity: 0.4;\r\n    color: #ffffff;\r\n  }\r\n`\r\n\r\nexport const ModalContainer = styled.div`\r\n  height: 250px;\r\n  width: 400px;\r\n\r\n  ${FlexCenter({justify: 'space-evenly'})}\r\n  & input {\r\n    padding: 4px 10px 4px 10px;\r\n    border: none;\r\n    color: ${props => props.theme.textColors.main};\r\n    border-radius: ${props => props.theme.borders.inputRadius};\r\n    background-color: ${props => props.theme.backgroundColor.input};\r\n\r\n    &::placeholder {\r\n      color: ${props => props.theme.textColors.placeholder}\r\n    }\r\n  }\r\n`\r\n","import {getDownloadURL, getStorage, ref} from \"firebase/storage\";\r\n\r\nexport const getImgUrl = async (userName: string, imageName: string) => {\r\n    let imgUrl = ''\r\n    const storage = getStorage();\r\n    await getDownloadURL(ref(storage, imageName))\r\n        .then((url) => {\r\n            // `url` is the download URL for 'images/stars.jpg'\r\n            imgUrl = url\r\n        }).catch((e) => {\r\n            console.log('Не нашелл((')\r\n        })\r\n    return imgUrl\r\n}\r\n","import {getDatabase, push, ref, set} from \"firebase/database\";\r\nimport {getImgUrl} from \"../getImages/getImgUrl\";\r\n\r\nexport const saveImgToImages = async (imgURL: string, imageName: string, userName: string) => {\r\n\r\n    const url = await getImgUrl(userName, imageName)\r\n    const db = getDatabase();\r\n\r\n    const imagesRef = ref(db, `images/`)\r\n    const newImageRef = push(imagesRef)\r\n    set(newImageRef, {\r\n        imageName: imageName,\r\n        imgURL: url,\r\n        userName: userName\r\n    })\r\n\r\n\r\n    const currentUserRef = ref(db, 'users/' + userName.toLowerCase())\r\n    const newUserImageRef = push(currentUserRef)\r\n    set(newUserImageRef, {\r\n        imageName: imageName,\r\n        imgURL: url,\r\n        userName: userName\r\n    })\r\n}\r\n\r\n","import {getStorage, ref, uploadString} from \"firebase/storage\";\r\n\r\nexport const saveImgToCollections = async (imgURL: string, imageName: string) => {\r\n    const storage = getStorage();\r\n    const storageRef = ref(storage, imageName);\r\n\r\n    await uploadString(storageRef, imgURL, 'data_url')\r\n}\r\n","import firebase from \"firebase/compat\";\r\nimport {ImgType} from \"../../store/reducers/imagesReducer\";\r\n\r\n\r\nexport const getAllImages = async () => {\r\n    const dates: ImgType[] = []\r\n    await firebase.database().ref('images').once('value', (spanshot) => {\r\n        spanshot.forEach((ChildSnapshot) => {\r\n            let imageName = ChildSnapshot.val().imageName\r\n            let imgURL = ChildSnapshot.val().imgURL\r\n            let userName = ChildSnapshot.val().userName\r\n            dates.unshift({imgURL, imageName, userName})\r\n        })\r\n    })\r\n    return dates\r\n}\r\n","import firebase from \"firebase/compat\";\r\nimport {ImgType} from \"../../store/reducers/imagesReducer\";\r\n\r\nexport const getCurrentImages = async () => {\r\n\r\n    const dates: ImgType[] = []\r\n\r\n    await firebase.database().ref('users/').once('value', (spanshot) => {\r\n        spanshot.forEach((ChildSnapshot) => {\r\n            const currentDates = Object.values(ChildSnapshot.val())\r\n            currentDates.map((el) => dates.unshift(el as ImgType))\r\n        })\r\n    })\r\n    return dates\r\n}\r\n","import {\r\n    getAllImagesAC,\r\n    saveImageAC,\r\n    setAllImagesAC,\r\n    setCurrentImagesAC\r\n} from \"../../actions/imagesActions/imagesActions\";\r\nimport {Dispatch} from \"redux\";\r\nimport {saveImgToImages} from \"../../thunks/saveImages/saveImgToImages\";\r\nimport {saveImgToCollections} from \"../../thunks/saveImages/saveImgToCollections\";\r\nimport {getAllImages} from \"../../thunks/getImages/getAllImages\";\r\nimport {getCurrentImages} from \"../../thunks/getImages/getCurrentImages\";\r\n\r\nconst initialState = [] as ImgType[]\r\n\r\nexport const imagesReducer = (state: ImgType[] = initialState, action: SaveActionTypes): ImgType[] => {\r\n    switch (action.type) {\r\n        case 'SAVE_IMAGE': {\r\n            return [\r\n                {\r\n                    imageName: action.imageName,\r\n                    imgURL: action.imgURL,\r\n                    userName: action.userName\r\n                },\r\n                ...state\r\n            ]\r\n        }\r\n        case \"SET_ALL_IMAGES\": {\r\n            return action.payload.map(el => {\r\n                return {\r\n                    imageName: el.imageName,\r\n                    imgURL: el.imgURL,\r\n                    userName: el.userName\r\n                }\r\n            })\r\n        }\r\n        case \"GET_ALL_IMAGES\": {\r\n            return action.payload.map(el => {\r\n                return {\r\n                    imageName: el.imageName,\r\n                    imgURL: el.imgURL,\r\n                    userName: el.userName\r\n                }\r\n            })\r\n        }\r\n        case \"GET_CURRENT_IMAGES\": {\r\n            return action.payload.map(el => {\r\n                return {\r\n                    imageName: el.imageName,\r\n                    imgURL: el.imgURL,\r\n                    userName: el.userName\r\n                }\r\n            }).filter(el => el.userName.toLowerCase() === action.userName.toLowerCase())\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\n\r\n// THUNK\r\nexport const fetchImagesTC = () => {\r\n    return (dispatch: Dispatch) => {\r\n        getAllImages().then((res) => {\r\n            dispatch(setAllImagesAC(res))\r\n        })\r\n    }\r\n}\r\n\r\nexport const getAllImagesTC = () => {\r\n    return (dispatch: Dispatch) => {\r\n        getAllImages().then((res) => {\r\n            dispatch(getAllImagesAC(res))\r\n        })\r\n    }\r\n}\r\nexport const getCurrentImagesTC = (userName: string) => {\r\n    return (dispatch: Dispatch) => {\r\n        getCurrentImages().then((res) => {\r\n            dispatch(setCurrentImagesAC(res, userName))\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const saveImageTC = (imgURL: string, imageName: string, userName: string) => {\r\n    return (dispatch: Dispatch) => {\r\n        saveImgToCollections(imgURL, imageName).then(() => {\r\n            saveImgToImages(imgURL, imageName, userName)\r\n            dispatch(saveImageAC(imgURL, imageName, userName))\r\n        })\r\n    }\r\n}\r\n\r\n\r\n// TYPES\r\nexport type ImgType = {\r\n    imgURL: string\r\n    imageName: string\r\n    userName: string\r\n}\r\n\r\n\r\ntype SaveActionTypes = ReturnType<typeof saveImageAC>\r\n    | ReturnType<typeof setCurrentImagesAC>\r\n    | ReturnType<typeof setAllImagesAC>\r\n    | ReturnType<typeof getAllImagesAC>\r\n\r\n","import {ImgType} from \"../../store/reducers/imagesReducer\";\r\n\r\nexport const setAllImagesAC = (payload: ImgType[]) => ({\r\n    type: 'SET_ALL_IMAGES',\r\n    payload\r\n} as const)\r\n\r\nexport const getAllImagesAC = (payload: ImgType[]) => ({\r\n    type: 'GET_ALL_IMAGES',\r\n    payload\r\n} as const)\r\n\r\nexport const setCurrentImagesAC = (payload: ImgType[], userName: string) => ({\r\n    type: 'GET_CURRENT_IMAGES',\r\n    payload,\r\n    userName\r\n} as const)\r\n\r\nexport const saveImageAC = (imgURL: string, imageName: string, userName: string) => ({\r\n    type: 'SAVE_IMAGE',\r\n    imgURL,\r\n    userName,\r\n    imageName\r\n} as const)\r\n","import React, {ChangeEvent, KeyboardEvent, RefObject, useCallback, useState} from \"react\";\r\nimport {FormButton} from \"../styles\";\r\nimport {CloseModal, Modal, ModalBackground, ModalContainer} from \"./ImageNameModal.module\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getUserName} from \"../../reselects/reselect\";\r\nimport {saveImageTC} from \"../../store/reducers/imagesReducer\";\r\n\r\ntype ModalProps = {\r\n    closeModal: (value: boolean) => void\r\n    title: string\r\n    canvasRef: RefObject<HTMLCanvasElement>\r\n}\r\n\r\nexport const ImageNameModal: React.FC<ModalProps> = props => {\r\n    const {closeModal, title, canvasRef} = props\r\n    const [text, setText] = useState<string>('')\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const userName = useSelector(getUserName)\r\n\r\n    const saveImg = useCallback(() => {\r\n        if (canvasRef.current === null) throw new Error('Could not get сфтмфы');\r\n        const imgURL = canvasRef.current.toDataURL()\r\n\r\n        dispatch(saveImageTC(imgURL, text, userName as string))\r\n        closeModal(false)\r\n    }, [canvasRef, closeModal, dispatch, text])\r\n\r\n    const inputChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setText(e.currentTarget.value)\r\n    }\r\n\r\n    const onKeyDownHandler = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === 'Enter') saveImg()\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <ModalBackground onClick={() => closeModal(false)}/>\r\n            <Modal>\r\n                <CloseModal onClick={() => closeModal(false)}>X</CloseModal>\r\n                <ModalContainer>\r\n                    <h2> {title}</h2>\r\n                    <input value={text} onKeyDown={onKeyDownHandler} onChange={inputChangeHandler}\r\n                           placeholder={'image name...'}\r\n                           type=\"text\"/>\r\n                    <FormButton disabled={!text || text.length >= 20} onClick={saveImg} marginRight={'0'}\r\n                                text={'Save'}/>\r\n                </ModalContainer>\r\n            </Modal>\r\n        </>\r\n\r\n    )\r\n}\r\n","const initialState: InitialType = {\r\n    instrument: 'brush'\r\n}\r\n\r\nexport const drawReducer = (state: InitialType = initialState, action: DrawActionTypes): InitialType => {\r\n    switch (action.type) {\r\n        case \"SET_INSTRUMENT\":\r\n            return {\r\n                ...state,\r\n                instrument: action.instrument\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\ntype InitialType = {\r\n    instrument: InstrumentsType\r\n}\r\n\r\nexport type InstrumentsType = 'brush' | 'circle' | 'rectangle' | 'line'\r\n\r\n\r\nexport const setInstrument = (instrument: InstrumentsType) => ({type: 'SET_INSTRUMENT' as string, instrument})\r\n\r\n\r\ntype DrawActionTypes = ReturnType<typeof setInstrument>\r\n\r\n","import React, {FC, RefObject, useState} from \"react\";\r\nimport {\r\n    Brush,\r\n    ChoseColor,\r\n    ChoseLineWidth,\r\n    Circle,\r\n    Eraser,\r\n    ItemsContainer,\r\n    Line,\r\n    LineWidthWrapper,\r\n    Rectangle,\r\n    ShowWidth\r\n} from \"./CanvasItems.style\";\r\nimport {FormButton} from \"../../styles\";\r\nimport {ImageNameModal} from \"../../ImageNameModal/ImageNameModal\";\r\nimport {InstrumentsType, setInstrument} from \"../../../store/reducers/drawReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\n// @ts-ignore\r\nimport brush from '../../../assets/brush.png'\r\n// @ts-ignore\r\nimport eraser from '../../../assets/eraser.png'\r\n\r\ntype CanvasItemsPropsType = {\r\n    canvasRef: RefObject<HTMLCanvasElement>\r\n    contextRef: RefObject<CanvasRenderingContext2D>\r\n    setStrokeStyle: (stroke: string) => void\r\n    strokeStyle: string\r\n    setLineWidth: (width: number) => void\r\n    lineWidth: number\r\n}\r\n\r\nexport const CanvasItems: FC<CanvasItemsPropsType> = React.memo(props => {\r\n    const {setLineWidth, canvasRef, contextRef, setStrokeStyle, lineWidth, strokeStyle} = props\r\n\r\n    const [showTextModal, setTextModal] = useState<boolean>(false)\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    const clear = () => {\r\n        if (canvasRef.current === null) throw new Error('Could not get сфтмфы');\r\n        contextRef.current?.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height)\r\n    }\r\n\r\n    const save = () => {\r\n        setTextModal(true)\r\n    }\r\n\r\n    const setTool = (instrument: InstrumentsType) => {\r\n        dispatch(setInstrument(instrument))\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <ItemsContainer>\r\n                <FormButton text={'Clear'} onClick={clear}/>\r\n                <ChoseColor value={strokeStyle} onChange={(e) => setStrokeStyle(e.currentTarget.value)} type={'color'}/>\r\n                <LineWidthWrapper>\r\n                    <ShowWidth>\r\n                        {lineWidth}\r\n                    </ShowWidth>\r\n                    <ChoseLineWidth onChange={(e) => {\r\n                        setLineWidth(+e.currentTarget.value)\r\n                    }} min={1} max={20} defaultValue={5}\r\n                                    type={'range'}/>\r\n                </LineWidthWrapper>\r\n\r\n                <Line onClick={() => setTool('line')}/>\r\n                <Rectangle onClick={() => setTool('rectangle')}/>\r\n                <Circle onClick={() => setTool('circle')}/>\r\n                <Brush onClick={() => {\r\n                    setTool('brush')\r\n                    setStrokeStyle('#000000')\r\n                }}>\r\n                    <img src={brush} alt=\"brush\"/>\r\n                </Brush>\r\n                <Eraser onClick={() => {\r\n                    setTool('brush')\r\n                    setStrokeStyle('#ffffff')\r\n                }}>\r\n                    <img src={eraser} alt=\"eraser\"/>\r\n                </Eraser>\r\n\r\n                <FormButton onClick={save} text={'Save image'}/>\r\n            </ItemsContainer>\r\n            {\r\n                showTextModal && <ImageNameModal canvasRef={canvasRef} closeModal={setTextModal} title={'Image Name'}/>\r\n            }\r\n        </>\r\n    )\r\n})","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import styled from \"styled-components\";\r\n\r\nexport const CanvasContainer = styled.div`\r\n  margin-top: 20px;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  border: 4px solid ${props => props.theme.borders.paint};\r\n  border-radius: 10px;\r\n\r\n  background-color: #ff0000;\r\n\r\n  canvas {\r\n    background-color: white;\r\n  }\r\n`","import {ItemsType} from \"../drawing\";\r\nimport {MouseEvent} from \"react\";\r\n\r\nexport const brush = ({context, isDrawing}: ItemsType) => {\r\n    const draw = ({nativeEvent}: MouseEvent<HTMLCanvasElement>): void => {\r\n        if (!isDrawing) return\r\n        const {offsetX, offsetY} = nativeEvent\r\n        context?.lineTo(offsetX, offsetY)\r\n        context?.stroke()\r\n    }\r\n\r\n    return {draw}\r\n}\r\n","import {InstrumentsType} from \"../../../../store/reducers/drawReducer\";\r\nimport {brush} from \"./brush/brush\";\r\nimport {rectangle} from \"./rectangle/rectangle\";\r\nimport {circle} from \"./circle/circle\";\r\nimport {line} from \"./line/line\";\r\n\r\nexport type DrawingType = ItemsType & {\r\n    selectedInstrument: InstrumentsType\r\n\r\n}\r\nexport type ItemsType = {\r\n    context: CanvasRenderingContext2D | null\r\n    isDrawing: boolean\r\n    canvas: HTMLCanvasElement | null\r\n    saved: string\r\n    startX: number\r\n    startY: number\r\n}\r\n\r\nexport const drawing = (data: DrawingType) => {\r\n    const {selectedInstrument, ...rest} = data\r\n\r\n    switch (selectedInstrument) {\r\n        case \"brush\":\r\n            return brush(rest)\r\n        case \"circle\":\r\n            return circle(rest)\r\n        case \"line\":\r\n            return line(rest)\r\n        case \"rectangle\":\r\n            return rectangle(rest)\r\n        default:\r\n            return brush(rest)\r\n    }\r\n}\r\n","import {ItemsType} from \"../drawing\";\r\n\r\nexport const circle = ({context,  isDrawing, canvas, startX, startY, saved}: ItemsType) => {\r\n    const draw = ({nativeEvent}: any): void => {\r\n        if (!isDrawing) return\r\n        const {offsetX, offsetY} = nativeEvent\r\n        const img = new Image()\r\n        img.src = saved\r\n        img.onload = async () => {\r\n            if (context === null) throw new Error('Could not get context');\r\n            if (canvas === null) throw new Error('Could not get context');\r\n            let r = Math.sqrt((offsetX - startX) ** 2 + (offsetY - startY) ** 2)\r\n            context.clearRect(0, 0, canvas.width, canvas.height)\r\n            context.drawImage(img, 0, 0, canvas.width, canvas.height)\r\n            context.beginPath()\r\n            context.arc(startX, startY, r, 0, 2 * Math.PI)\r\n            context.fill()\r\n            context.stroke()\r\n        }\r\n    }\r\n    return { draw}\r\n}","import {ItemsType} from \"../drawing\";\r\n\r\nlet startX = 0, startY = 0, saved: string;\r\nexport const line = ({context, isDrawing, canvas}: ItemsType) => {\r\n    const draw = ({nativeEvent}: any): void => {\r\n        if (!isDrawing) return\r\n        const {offsetX, offsetY} = nativeEvent\r\n        const img = new Image()\r\n        img.src = saved\r\n        img.onload = async () => {\r\n            if (context === null) throw new Error('Could not get context');\r\n            if (canvas === null) throw new Error('Could not get context');\r\n            context.clearRect(0, 0, canvas.width, canvas.height)\r\n            context.drawImage(img, 0, 0, canvas.width, canvas.height)\r\n            context.beginPath()\r\n            context.moveTo(startX, startY)\r\n            context.lineTo(offsetX, offsetY)\r\n            context.fill()\r\n            context.stroke()\r\n        }\r\n    }\r\n\r\n    return {draw}\r\n}","import {ItemsType} from \"../drawing\";\r\nimport {MouseEvent} from \"react\";\r\n\r\nexport const rectangle = ({context, isDrawing, canvas, startX, startY, saved}: ItemsType) => {\r\n    const draw = ({nativeEvent}: MouseEvent<HTMLCanvasElement>): void => {\r\n        if (!isDrawing) return\r\n        const {offsetX, offsetY} = nativeEvent\r\n        const img = new Image()\r\n        img.src = saved\r\n        img.onload = async () => {\r\n            if (context === null) throw new Error('Could not get context');\r\n            if (canvas === null) throw new Error('Could not get context');\r\n            context.clearRect(0, 0, canvas.width, canvas.height)\r\n            context.drawImage(img, 0, 0, canvas.width, canvas.height)\r\n            context.beginPath()\r\n            context.rect(startX, startY, offsetX - startX, offsetY - startY)\r\n            context.fill()\r\n            context.stroke()\r\n        }\r\n    }\r\n    return {draw}\r\n}","import React, {FC, MouseEvent, useEffect, useRef, useState} from \"react\";\r\nimport {CanvasItems} from \"./CanvasItems/CanvasItems\";\r\nimport {CanvasContainer} from \"./Canvas.style\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {selectInstrument} from \"../../reselects/reselect\";\r\nimport {drawing} from \"./CanvasItems/drawFunctions/drawing\";\r\n\r\nlet startX = 0, startY = 0, saved = '';\r\n\r\nexport const Canvas: FC = React.memo(() => {\r\n\r\n    const canvasRef = useRef<HTMLCanvasElement | null>(null)\r\n    const contextRef = useRef<CanvasRenderingContext2D | null>(null)\r\n    const [isDrawing, setIsDrawing] = useState<boolean>(false)\r\n    const [strokeStyle, setStrokeStyle] = useState<string>('')\r\n    const [lineWidth, setLineWidth] = useState<number>(5)\r\n    const selectedInstrument = useSelector(selectInstrument)\r\n\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        if (canvas === null) throw new Error('Could not get сфтмфы');\r\n        canvas.width = 900\r\n        canvas.height = 450\r\n        canvas.style.width = `${canvas.width}px`\r\n        canvas.style.height = `${canvas.height}px`\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        if (canvas === null) throw new Error('Could not get canvas');\r\n        const context = canvas.getContext('2d')\r\n        if (context === null) throw new Error('Could not get context');\r\n        context.scale(1, 1)\r\n        context.lineCap = 'round'\r\n        context.strokeStyle = strokeStyle\r\n        context.fillStyle = strokeStyle\r\n        context.lineWidth = lineWidth\r\n        contextRef.current = context\r\n    }, [lineWidth, strokeStyle])\r\n\r\n    let context = contextRef.current;\r\n    let canvas = canvasRef.current;\r\n\r\n    if (contextRef && canvasRef) {\r\n        context = contextRef.current\r\n        canvas = canvasRef.current\r\n    }\r\n\r\n    const startDrawing = ({nativeEvent}: MouseEvent<HTMLCanvasElement>) => {\r\n        saved = canvas?.toDataURL() ?? ''\r\n        context?.beginPath()\r\n        const {offsetX, offsetY} = nativeEvent\r\n        startX = offsetX;\r\n        startY = offsetY;\r\n        context?.moveTo(offsetX, offsetY)\r\n        setIsDrawing(true)\r\n    }\r\n    const {draw} = drawing({\r\n        selectedInstrument,\r\n        context,\r\n        isDrawing,\r\n        canvas,\r\n        saved,\r\n        startX,\r\n        startY\r\n    })\r\n\r\n    const finishDrawing = () => {\r\n        context?.closePath()\r\n        setIsDrawing(false)\r\n    }\r\n\r\n    return (\r\n        <CanvasContainer>\r\n            <CanvasItems\r\n                canvasRef={canvasRef}\r\n                contextRef={contextRef}\r\n                setStrokeStyle={setStrokeStyle}\r\n                strokeStyle={strokeStyle}\r\n                setLineWidth={setLineWidth}\r\n                lineWidth={lineWidth}\r\n            />\r\n            <canvas\r\n                onMouseUp={finishDrawing}\r\n                onMouseMove={draw}\r\n                onMouseDown={startDrawing}\r\n                ref={canvasRef}\r\n            />\r\n        </CanvasContainer>\r\n    )\r\n})","import styled from \"styled-components\";\r\nimport {FlexCenter} from \"../styles\";\r\n\r\nexport const DashBoardContainer = styled.div`\r\n  color: ${props => props.theme.textColors.main};\r\n  height: 90vh;\r\n  overflow-y: hidden;\r\n  ${FlexCenter};\r\n  min-width: 1300px;\r\n`\r\n\r\nexport const PaintWrapper = styled.div`\r\n  padding: 20px;\r\n  width: 100vw;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  border: 2px solid red;\r\n`","import React, {FC, useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {setSuccess} from \"../../actions/authActions/authActions\";\r\nimport {Canvas} from \"../Canvas/Canvas\";\r\nimport {DashBoardContainer} from \"./DashBoard.style\";\r\nimport {fetchImagesTC} from \"../../store/reducers/imagesReducer\";\r\nimport {getSuccess, getUserName} from \"../../reselects/reselect\";\r\n\r\nexport const DashBoard: FC = React.memo(() => {\r\n\r\n    const userName = useSelector(getUserName)\r\n    const success = useSelector(getSuccess)\r\n\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(fetchImagesTC())\r\n        return () => {\r\n            if (success) {\r\n                dispatch(setSuccess(' '))\r\n            }\r\n        }\r\n    }, [dispatch, success])\r\n\r\n    return (\r\n        <DashBoardContainer>\r\n            <div>\r\n                <h1>\r\n                    Welcome {userName}\r\n                </h1>\r\n            </div>\r\n            <Canvas/>\r\n        </DashBoardContainer>\r\n    )\r\n})","import {Redirect, Route, RouteProps} from \"react-router-dom\";\r\nimport {FC} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getAuthenticated} from \"../reselects/reselect\";\r\n\r\n\r\ninterface Props extends RouteProps {\r\n    component: any\r\n}\r\n\r\nexport const PrivateRoute: FC<Props> = ({component: Component, ...rest}) => {\r\n    const authenticated = useSelector(getAuthenticated)\r\n\r\n    return (\r\n        <Route{...rest} render={props => authenticated ? <Component {...props} /> : <Redirect to={'/signin'}/>}/>\r\n    )\r\n}","import {createGlobalStyle} from \"styled-components\";\r\n\r\n\r\nexport const GlobalStyles = createGlobalStyle`\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n    outline: none;\r\n    box-sizing: border-box;\r\n    text-decoration: none;\r\n    font-size: ${props => props.theme.textSize.main};\r\n  }\r\n\r\n  h1, button {\r\n    font-family: Comic Sans MS, Comic Sans, cursive;\r\n  }\r\n\r\n  #root {\r\n    margin: 0 auto;\r\n  }\r\n\r\n  body {\r\n    background-color: ${props => props.theme.backgroundColor.main};\r\n\r\n    a {\r\n      color: ${props => props.theme.Link.color};\r\n      text-decoration: ${props => props.theme.Link.decoration};\r\n      transition: ${props => props.theme.Link.transition};\r\n\r\n      &:hover {\r\n        color: ${props => props.theme.Link.hoverColor};\r\n      }\r\n    }\r\n  }\r\n`","export const theme = {\r\n    textSize: {\r\n        main: '22px',\r\n        title: '30px',\r\n        redirect: '40px'\r\n    },\r\n    backgroundColor: {\r\n        main: '#1a1a1d',\r\n        button: '#d2c1b5',\r\n        modal: '#614b3e',\r\n        input: '#9a7967'\r\n    },\r\n    borders: {\r\n        modal: '2px solid #8c7b73',\r\n        paint: '#d2c1b5',\r\n        modalRadius: '25px',\r\n        inputRadius: '13px',\r\n    },\r\n    Link: {\r\n        color: '#d2c1b5',\r\n        decoration: 'underline',\r\n        transition: 'all 0.2s',\r\n        hoverColor: '#ac9c8e'\r\n    },\r\n    textColors: {\r\n        main: '#ffffff',\r\n        dark: '#000000',\r\n        placeholder: '#d5cccc',\r\n    }\r\n}\r\n\r\n","import styled from \"styled-components\";\r\nimport {FlexCenter} from \"../styles\";\r\n\r\nexport const HomepageWrapper = styled.div`\r\n  margin-top: 80px;\r\nmin-width: 1300px;\r\n  ${FlexCenter}\r\n  & h1 {\r\n    font-size: ${props => props.theme.textSize.redirect};\r\n    color: white;\r\n  }\r\n`\r\n","import React, {FC} from \"react\";\r\nimport {HomepageWrapper} from \"./Homepage.style\";\r\n\r\nexport const Homepage: FC = React.memo(() => {\r\n    return (\r\n        <section>\r\n            <HomepageWrapper>\r\n                <h1>Sign in please!</h1>\r\n            </HomepageWrapper>\r\n        </section>\r\n    )\r\n})","import styled from \"styled-components\";\r\nimport {FlexCenter} from \"../styles\";\r\n\r\nexport const CollectionsContainer = styled.div`\r\n  background-color: ${props => props.theme.backgroundColor.main};\r\n  margin-top: 30px;\r\n  ${FlexCenter};\r\n  min-width: 1300px;\r\n`\r\n\r\nexport const CollectionsWrapper = styled.div`\r\n  border: 4px solid ${props => props.theme.borders.paint};\r\n  background-color: ${props => props.theme.backgroundColor.button};\r\n  border-radius: 10px;\r\n  color: ${props => props.theme.textColors.dark};\r\n  min-width: 1300px;\r\n}\r\n\r\ninput {\r\n  box-sizing: border-box;\r\n  padding: 4px 10px 4px 10px;\r\n  margin-right: 20px;\r\n  border: none;\r\n  color: ${props => props.theme.textColors.main};\r\n  border-radius: ${props => props.theme.borders.inputRadius};\r\n  width: 320px;\r\n  height: 37px;\r\n  background-color: ${props => props.theme.backgroundColor.input};\r\n\r\n  &::placeholder {\r\n    color: ${props => props.theme.textColors.placeholder};\r\n  }\r\n`\r\n\r\nexport const SearchWrapper = styled.div`\r\n  background-color: ${props => props.theme.backgroundColor.button};\r\n  width: 100%;\r\n  min-height: 60px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`","import styled from \"styled-components\";\r\n\r\nexport const ItemContainer = styled.div`\r\n  h2 {\r\n    padding-top: 10px;\r\n  }\r\n\r\n  img {\r\n    background-color: #ffffff;\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 20px;\r\n  }\r\n\r\n  \r\n`\r\n\r\nexport const ItemWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  background-color: ${props => props.theme.backgroundColor.input};\r\n  border-radius: 20px;\r\n  color: white;\r\n  margin: 20px auto ;\r\n  width: 80%;\r\n`\r\n\r\nexport const ImgWrapper = styled.div`\r\n  height: 400px;\r\n  width: 70%;\r\n  padding: 20px;\r\n`\r\nexport const TitleWrapper = styled.div`\r\n  padding-top: 20px;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n`\r\n\r\n","import React, {FC} from \"react\";\r\nimport {ImgWrapper, ItemContainer, ItemWrapper, TitleWrapper} from \"./ImgItem.style\";\r\nimport {ImgType} from \"../../../store/reducers/imagesReducer\";\r\n\r\ntype ImgItemPropsType = ImgType\r\n\r\nexport const ImgItem: FC<ImgItemPropsType> = React.memo(({imageName, imgURL, userName}) => {\r\n\r\n    return (\r\n        <ItemContainer>\r\n            <ItemWrapper>\r\n                <TitleWrapper>\r\n                    <h1>User name: {userName}</h1>\r\n                    <h1>Title: {imageName}</h1>\r\n                </TitleWrapper>\r\n                <ImgWrapper>\r\n                    <img src={imgURL} alt={imageName}/>\r\n                </ImgWrapper>\r\n            </ItemWrapper>\r\n        </ItemContainer>\r\n    )\r\n})","import React, {ChangeEvent, FC, KeyboardEvent, useState} from \"react\";\r\nimport {CollectionsContainer, CollectionsWrapper, SearchWrapper} from \"./ImgCollections.style\";\r\nimport {FormButton} from \"../styles\";\r\nimport {ImgItem} from \"./ImgItem/ImgItem\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getImages} from \"../../reselects/reselect\";\r\nimport {getAllImagesTC, getCurrentImagesTC} from \"../../store/reducers/imagesReducer\";\r\n\r\n\r\nexport const ImgCollections: FC = React.memo(() => {\r\n\r\n    const [inputText, setInputText] = useState<string>('')\r\n\r\n    const images = useSelector(getImages)\r\n    const dispatch = useDispatch()\r\n\r\n    const inputChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setInputText(e.currentTarget.value)\r\n        console.log(e)\r\n    }\r\n    const onKeyDownHandler = (e: KeyboardEvent<HTMLInputElement>) => {\r\n       if (e.key==='Enter') searchButtonHandler()\r\n    }\r\n\r\n    const searchButtonHandler = async () => {\r\n        if (!inputText) {\r\n            await dispatch(getAllImagesTC())\r\n        } else {\r\n            await dispatch(getCurrentImagesTC(inputText))\r\n        }\r\n    }\r\n    return (\r\n        <CollectionsContainer>\r\n            <CollectionsWrapper>\r\n                <SearchWrapper>\r\n                    <input value={inputText} onKeyDown={onKeyDownHandler} onChange={inputChangeHandler} placeholder={'Enter User name...'}\r\n                           type=\"text\"/>\r\n                    <FormButton onClick={searchButtonHandler} text={'Search'}/>\r\n                </SearchWrapper>\r\n                <ul>\r\n                    {images.map(el => {\r\n                        return (\r\n                            <ImgItem\r\n                                imgURL={el.imgURL}\r\n                                imageName={el.imageName}\r\n                                userName={el.userName}\r\n                            />\r\n                        )\r\n                    })}\r\n                </ul>\r\n            </CollectionsWrapper>\r\n        </CollectionsContainer>\r\n    )\r\n})","import React, {FC, useEffect} from 'react';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getUserById, setLoading} from \"./actions/authActions/authActions\";\nimport firebase from \"firebase/compat\";\nimport {Loader} from \"./components/utils/Loader/Loader\";\nimport {BrowserRouter, Switch} from \"react-router-dom\";\nimport {Header} from \"./components/Header/Header\";\nimport {PublicRoute} from \"./auth/PublicRoute\";\nimport {SignUp} from \"./components/pages/SignUp/SignUp\";\nimport {SignIn} from \"./components/pages/SignIn/SignIn\";\nimport {ForgotPassword} from \"./components/pages/ForgotPassword/ForgotPassword\";\nimport {DashBoard} from \"./components/DashBoard/DashBoard\";\nimport {PrivateRoute} from \"./auth/PrivateRoute\";\nimport {GlobalStyles} from './styles/Global';\nimport {ThemeProvider} from \"styled-components\";\nimport {theme} from \"./styles/thme\";\nimport {Homepage} from \"./components/Homepage/Homepage\";\nimport {ImgCollections} from \"./components/ImgCollections/ImgCollections\";\nimport {getLoading} from \"./reselects/reselect\";\n\n\nconst App: FC = React.memo(() => {\n\n    const dispatch = useDispatch()\n    const loading = useSelector(getLoading)\n\n    useEffect(() => {\n        dispatch(setLoading(true))\n        const unsubscribe = firebase.auth().onAuthStateChanged(async (user) => {\n            if (user) {\n                dispatch(setLoading(true))\n                await dispatch(getUserById(user.uid))\n            }\n            dispatch(setLoading(false))\n        })\n\n        return () => {\n            unsubscribe()\n        }\n    }, [dispatch])\n\n    if (loading) {\n        return <Loader/>\n    }\n\n    return (\n        <BrowserRouter>\n            <ThemeProvider theme={theme}>\n                <GlobalStyles/>\n                <Header/>\n                <Switch>\n                    <PublicRoute path={'/'} component={Homepage} exact/>\n                    <PublicRoute path={'/signup'} component={SignUp} exact/>\n                    <PublicRoute path={'/signin'} component={SignIn} exact/>\n                    <PublicRoute path={'/forgot-password'} component={ForgotPassword} exact/>\n                    <PrivateRoute path={'/dashboard'} component={DashBoard} exact/>\n                    <PrivateRoute path={'/images'} component={ImgCollections} exact/>\n                </Switch>\n            </ThemeProvider>\n        </BrowserRouter>\n    );\n})\n\nexport default App;\n","import {AuthAction, AuthState} from \"../authTypes\";\r\n\r\nconst initialState: AuthState = {\r\n    user: null,\r\n    authenticated: false,\r\n    loading: false,\r\n    error: '',\r\n    success: ''\r\n}\r\n\r\nexport const authReducer = (state = initialState, action: AuthAction) => {\r\n    switch (action.type) {\r\n        case \"SET_USER\":\r\n            return {\r\n                ...state,\r\n                user: action.payload,\r\n                authenticated: true\r\n            }\r\n        case \"SET_LOADING\":\r\n            return {\r\n                ...state,\r\n                loading: action.payload,\r\n            }\r\n        case \"SIGN_OUT\":\r\n            return {\r\n                ...state,\r\n                user: null,\r\n                authenticated: false,\r\n                loading: false\r\n            }\r\n        case \"SET_ERROR\":\r\n            return {\r\n                ...state,\r\n                error: action.payload,\r\n            }\r\n        case \"SET_SUCCESS\":\r\n            return {\r\n                ...state,\r\n                success: action.payload,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport {composeWithDevTools} from \"redux-devtools-extension\";\r\nimport {drawReducer} from \"./reducers/drawReducer\";\r\nimport {authReducer} from \"./reducers/authReducer\";\r\nimport {imagesReducer} from \"./reducers/imagesReducer\";\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    auth: authReducer,\r\n    draw: drawReducer,\r\n    images: imagesReducer\r\n})\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeWithDevTools(applyMiddleware(thunk))\r\n)\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>\r\n\r\nexport default store","import firebase from \"firebase/compat\";\r\nimport 'firebase/auth'\r\nimport 'firebase/firestore'\r\n\r\nfirebase.initializeApp({\r\n    apiKey: process.env.REACT_APP_API_KEY,\r\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_PROJECT_ID,\r\n    databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_APP_ID,\r\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {Provider} from \"react-redux\";\nimport store from \"./store\";\nimport './firebase/firebase'\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n"],"sourceRoot":""}